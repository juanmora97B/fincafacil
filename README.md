# ğŸ„ FincaFÃ¡cil v1.0
### Sistema de GestiÃ³n Ganadera Profesional

**"La fuerza del campo, la precisiÃ³n del software"**

FincaFÃ¡cil es un sistema integral de gestiÃ³n ganadera diseÃ±ado para optimizar la administraciÃ³n de fincas. Con una interfaz moderna y profesional, proporciona control completo sobre todos los aspectos de la operaciÃ³n ganadera.

ğŸ’¼ **Control Total** | ğŸŒ± **Crecimiento Sostenible** | ğŸ’° **Rentabilidad** | ğŸ“š **Tour Interactivo** | ğŸ“¦ **Instalador Profesional**

---

## ğŸš€ Inicio RÃ¡pido

### Para Usuarios (InstalaciÃ³n)

```batch
# Descargar e instalar
FincaFacil_Setup_v1.0.exe
```

**Â¡El tour interactivo se activarÃ¡ automÃ¡ticamente en la primera ejecuciÃ³n!**

### Para Desarrolladores

```bash
# 1. Instalar dependencias
instalar_dependencias.bat

# 2. Ejecutar aplicaciÃ³n
ejecutar.bat

# 3. Generar instalador (NUEVO)
generar_instalador_completo.bat
```

---

## ğŸ“¦ DistribuciÃ³n del Software

### Generar Instalador Profesional

FincaFacil incluye un sistema completo de generaciÃ³n de instalador:

```batch
# OpciÃ³n 1: TODO-EN-UNO (Recomendado)
generar_instalador_completo.bat

# OpciÃ³n 2: Paso a paso
compilar.bat              # Genera ejecutable
crear_instalador.bat      # Crea instalador
```

**Resultado:** `installer/FincaFacil_Setup_v1.0.exe` (150-250 MB)

ğŸ“š **DocumentaciÃ³n completa:**
- [GuÃ­a de DistribuciÃ³n](GUIA_DISTRIBUCION.md) - Todo sobre distribuciÃ³n
- [Inicio RÃ¡pido Instalador](INICIO_RAPIDO_INSTALADOR.md) - Referencia rÃ¡pida
- [CompilaciÃ³n README](COMPILACION_README.md) - Detalles tÃ©cnicos

### Requisitos para Generar Instalador

- Python 3.8+ âœ…
- PyInstaller 6.3.0 (se instala automÃ¡ticamente)
- Inno Setup 6.x ([Descargar](https://jrsoftware.org/isdl.php))

### MÃ©todos de DistribuciÃ³n

El instalador puede distribuirse mediante:

- ğŸ’¾ **USB/Pendrive** - Copia y distribuciÃ³n fÃ­sica
- â˜ï¸ **Nube** - Google Drive, Dropbox, OneDrive
- ğŸŒ **Servidor Web** - Descarga directa
- ğŸ“§ **Email** - Para tamaÃ±os permitidos
- ğŸ¢ **Red Local** - Despliegue empresarial

---

## âœ¨ CaracterÃ­sticas Principales

### ğŸ“Š Dashboard Inteligente
- MÃ©tricas en tiempo real (animales, valor inventario, tratamientos)
- GrÃ¡ficos interactivos de producciÃ³n y estado
- Eventos recientes y alertas del sistema
- KPIs actualizados automÃ¡ticamente

### ğŸ„ GestiÃ³n de Animales
- Registro completo con cÃ³digo Ãºnico
- Ficha detallada de cada animal
- Inventario con filtros avanzados
- ActualizaciÃ³n de peso y producciÃ³n
- ImportaciÃ³n masiva desde Excel
- Historial completo de eventos

### ğŸ¤° Control Reproductivo
- Registro de servicios (monta o IA)
- Monitoreo de hembras gestantes
- CÃ¡lculo automÃ¡tico de fecha de parto (280 dÃ­as)
- Alertas de prÃ³ximos partos
- ConfirmaciÃ³n de nacimientos

### ğŸ¥ Salud y Tratamientos
- DiagnÃ³sticos mÃ©dicos con severidad
- Registro de tratamientos veterinarios
- Medicamentos, dosis y frecuencia
- Historial mÃ©dico completo
- Control de costos

### ğŸŒ¿ GestiÃ³n de Potreros
- Registro de potreros por finca
- AsignaciÃ³n y rotaciÃ³n de animales
- Control de capacidad animal
- Historial de ocupaciÃ³n
- Estados: Disponible, En uso, En descanso

### ğŸ’° Ventas y FacturaciÃ³n
- Registro de ventas (animales, leche, otros)
- Control de precios y formas de pago
- ActualizaciÃ³n automÃ¡tica de inventario
- Reportes de ventas por perÃ­odo

### ğŸ“¦ Inventario de Insumos
- Control de stock (actual/mÃ­nimo/mÃ¡ximo)
- Movimientos de entrada y salida
- Alertas de bajo stock
- Control de vencimientos
- Proveedores

### ğŸ”§ Herramientas y Equipos
- CatÃ¡logo de herramientas
- Mantenimientos preventivos
- Historial de reparaciones
- Control de estado operativo
- GestiÃ³n de stock (stock_total y stock_bodega) con asignaciÃ³n

### ğŸ“‹ Reportes Profesionales
- Inventario de animales
- ProducciÃ³n de leche
- Ventas por perÃ­odo
- Tratamientos aplicados
- ExportaciÃ³n a Excel/CSV

### ğŸ‘¥ GestiÃ³n de Personal
- Registro de empleados
- Control de nÃ³mina
- Pagos y deducciones
- Historial laboral

---

## ğŸ“š DocumentaciÃ³n y Ayuda

### ğŸ“ Tour Interactivo
- **Se activa automÃ¡ticamente en la primera ejecuciÃ³n**
- 12 pasos guiados por todos los mÃ³dulos
- Explicaciones claras y concisas
- Reactivable desde **Ajustes > Tour Interactivo**

### ğŸ“– Manual en PDF
- **Disponible en: Ajustes > Manual de Usuario (PDF)**
- 11 secciones completas
- 2.7 MB de contenido detallado
- Imprimible y descargable

### ğŸ› ï¸ Scripts de Utilidad
```bash
# Ver base de datos
python scripts/utilities/ver_bd_simple.py

# Validar sistema
python scripts/utilities/validar_sistema.py

# Verificar demo y manual
python scripts/utilities/verificar_demo_manual.py

# Resetear tour
resetear_tour.bat

# Abrir manual PDF
abrir_manual.bat

# Abrir base de datos
abrir_bd.bat
```

### ğŸ“¥ ImportaciÃ³n de CondiciÃ³n Corporal (Formatos Compatibles)
El sistema soporta dos formatos para cargar datos de condiciÃ³n corporal desde Excel:

1. Formato Nuevo (recomendado):
    - Columnas mÃ­nimas: `codigo`, `descripcion`
    - Opcionales: `puntuacion`, `escala`, `especie`, `caracteristicas`, `recomendaciones`, `estado`
    - Ejemplo:
       ```
       codigo | descripcion             | puntuacion | caracteristicas          | recomendaciones
       CC1    | Muy flaca / crÃ­tico     | 1          | costillas muy visibles   | aumentar energia
       CC2    | Delgada                 | 2          | costillas parciales      | balance proteico
       ```

2. Formato Antiguo (compatibilidad):
    - Cualquier presencia de: `condicion_corporal`, `rango_inferior`, `rango_superior`, `recomendacion`, `comentario`
    - Reglas de mapeo:
       - `condicion_corporal` â†’ `codigo`
       - `descripcion` â†’ `descripcion`
       - `recomendacion`/`recomendaciones` â†’ `recomendaciones`
       - `comentario` â†’ `caracteristicas`
       - Si falta `puntuacion` se genera correlativa (1,2,3,...)
    - Ejemplo:
       ```
       condicion_corporal | rango_inferior | rango_superior | descripcion         | recomendacion              | comentario
       CC1                | 1.0            | 2.0            | Muy flaca / crÃ­tico | aumentar energia urgente   | costillas marcadas
       CC2                | 2.1            | 3.0            | Delgada             | ajustar dieta              | moderada cobertura
       ```

Notas:
- Filas sin `codigo` o `descripcion` se omiten con aviso.
- Valores vacÃ­os â†’ NULL interno.
- Se admite `recomendacion` o `recomendaciones` indistintamente.
- Evite mezclar encabezados de ambos formatos en una misma hoja.


---

## ğŸ“¦ InstalaciÃ³n Detallada

### Requisitos del Sistema
- Windows 10/11
- Python 3.8 o superior
- 4GB RAM mÃ­nimo
- 500MB espacio en disco

### Paso 1: Clonar Repositorio
```bash
git clone https://github.com/juanmora97B/FincaFacil.git
cd FincaFacil
```

### Paso 2: Instalar Dependencias
```bash
# OpciÃ³n 1: Script automÃ¡tico (recomendado)
instalar_dependencias.bat

# OpciÃ³n 2: Manual
pip install -r requirements.txt
```

### Paso 3: Ejecutar
```bash
# OpciÃ³n 1: Script (recomendado)
ejecutar.bat

# OpciÃ³n 2: Manual
python main.py
```

---

## ğŸ—‚ï¸ Estructura del Proyecto

```
FincaFacil/
â”œâ”€â”€ main.py                     # AplicaciÃ³n principal
â”œâ”€â”€ config.py                   # Configuraciones globales
â”œâ”€â”€ requirements.txt            # Dependencias Python
â”œâ”€â”€ database/                   # Base de datos SQLite
â”‚   â”œâ”€â”€ database.py
â”‚   â””â”€â”€ fincafacil.db
â”œâ”€â”€ modules/                    # MÃ³dulos funcionales
â”‚   â”œâ”€â”€ animales/
â”‚   â”œâ”€â”€ reproduccion/
â”‚   â”œâ”€â”€ salud/
â”‚   â”œâ”€â”€ potreros/
â”‚   â”œâ”€â”€ tratamientos/
â”‚   â”œâ”€â”€ ventas/
â”‚   â”œâ”€â”€ insumos/
â”‚   â”œâ”€â”€ herramientas/
â”‚   â”œâ”€â”€ reportes/
â”‚   â”œâ”€â”€ nomina/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ ajustes/
â”‚   â”œâ”€â”€ configuracion/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ scripts/                    # Scripts de utilidad
â”‚   â”œâ”€â”€ utilities/
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ utils/                      # Utilidades generales
â”‚   â”œâ”€â”€ tour_interactivo.py
â”‚   â”œâ”€â”€ pdf_generator.py
â”‚   â””â”€â”€ pdf_manual_generator.py
â”œâ”€â”€ docs/                       # DocumentaciÃ³n
â”‚   â”œâ”€â”€ Manual_Usuario_FincaFacil.md
â”‚   â””â”€â”€ Manual_Usuario_FincaFacil.pdf
â”œâ”€â”€ backup/                     # Copias de seguridad
â”œâ”€â”€ logs/                       # Archivos de log
â”œâ”€â”€ exports/                    # Reportes exportados
â”œâ”€â”€ uploads/                    # Archivos subidos
â””â”€â”€ assets/                     # Recursos (logos, iconos)
```

---

## ğŸ”§ TecnologÃ­as Utilizadas

| TecnologÃ­a | Uso | VersiÃ³n |
|------------|-----|---------|
| **Python** | Lenguaje base | 3.8+ |
| **CustomTkinter** | Interfaz grÃ¡fica moderna | 5.2.2 |
| **SQLite** | Base de datos | 3.x |
| **Matplotlib** | GrÃ¡ficos y visualizaciones | 3.8.3 |
| **ReportLab** | GeneraciÃ³n de PDF | 4.0.8 |
| **OpenPyXL** | Manejo de Excel | 3.1.2 |
| **Pillow** | Procesamiento de imÃ¡genes | 10.2.0 |
| **Loguru** | Sistema de logs | 0.7.2 |
| **Markdown** | Procesamiento de docs | 3.5.2 |

---

## ğŸ’¡ Flujos de Trabajo Comunes

### 1. Registrar Nuevo Animal
```
Animales > Registro > Ingresar datos > Guardar
```

### 2. Servicio Reproductivo
```
ReproducciÃ³n > Nuevo Servicio > Seleccionar hembra > Guardar
â†’ El sistema calcula automÃ¡ticamente la fecha de parto
```

### 3. Tratamiento Veterinario
```
Salud > Nuevo DiagnÃ³stico > Registrar sÃ­ntomas
â†’ Tratamientos > Nuevo Tratamiento > Vincular a diagnÃ³stico
```

### 4. Venta de Animal
```
Ventas > Nueva Venta > Seleccionar animal > Confirmar
â†’ El sistema actualiza automÃ¡ticamente el inventario
```

### 5. GestiÃ³n de Stock de Herramientas
```
Herramientas > CatÃ¡logo > (Filtrar / Editar / Importar Excel)
```
Reglas de stock:
- stock_total: unidades fÃ­sicas representadas (mÃ­nimo 1).
- stock_bodega: unidades disponibles en bodega (>=0 y <= stock_total).
- Si la herramienta estÃ¡ asignada a un trabajador y stock_total = 1, el sistema fuerza stock_bodega = 0.
- Si asignada y stock_bodega = stock_total (>1), se ajusta automÃ¡ticamente a stock_total - 1.
- ImportaciÃ³n Excel: si faltan columnas de stock se asume stock_total=1 y stock_bodega=1 (o 0 si asignada).
- Para multiunidad ajustar manualmente stock_bodega cuando se asignan piezas.

Ejemplos:
| Escenario | Responsable | stock_total | stock_bodega guardado |
|-----------|-------------|-------------|-----------------------|
| Ãšnica asignada | Trabajador X | 1 | 0 |
| Ãšnica en bodega | Bodega | 1 | 1 |
| Lote 5 en bodega | Bodega | 5 | 5 |
| Lote 5 con 2 asignadas | Trabajador Y | 5 | 3 |

Excel (campos opcionales nuevos):
```
codigo | nombre | categoria | ... | stock_total | stock_bodega
HER-010 | Juego Destornilladores | Herramienta Manual | ... | 12 | 12
HER-011 | Motosierra Husqvarna | Herramienta Manual | ... | 1 | 1
HER-012 | Motosierra Husqvarna (Asignada) | Herramienta Manual | ... | 1 | 0
```

CatÃ¡logo muestra: CÃ³digo, Nombre, CategorÃ­a, Stock Total, AsignaciÃ³n (Asignada / En Bodega), Stock Bodega, Estado.

---

## ğŸ’¾ Sistema de Backups

### Backup Manual
```
Ajustes > Hacer Backup Ahora
```

### Ver Backups Disponibles
```
Ajustes > Ver Backups
```

### Restaurar Backup
```
Ajustes > Restaurar Backup > Seleccionar archivo
```

**âš ï¸ El sistema crea un backup de seguridad antes de restaurar**

---

## ğŸ¯ ConfiguraciÃ³n Inicial Recomendada

1. **Configurar Fincas**
   - `ConfiguraciÃ³n > Fincas`
   - Agregar nombre, NIT, direcciÃ³n, hectÃ¡reas

2. **Registrar Razas**
   - `ConfiguraciÃ³n > Razas`
   - Agregar razas que maneja

3. **Crear Potreros**
   - `Potreros > Nuevo Potrero`
   - Especificar hectÃ¡reas y tipo de pasto

4. **Agregar Empleados (opcional)**
   - `ConfiguraciÃ³n > Empleados`

5. **Registrar Primer Animal**
   - `Animales > Registro`

---

## ğŸ” SoluciÃ³n de Problemas

### La aplicaciÃ³n no inicia
```bash
# 1. Verificar Python instalado
python --version

# 2. Reinstalar dependencias
pip install -r requirements.txt --force-reinstall

# 3. Revisar logs
type logs\fincafacil.log
```

### Error de base de datos
```bash
# 1. Verificar que existe
dir database\fincafacil.db

# 2. Ejecutar migraciones
migrar_tablas.bat

# 3. Restaurar desde backup
# Ajustes > Restaurar Backup
```

### No se ven los grÃ¡ficos
```bash
# Reinstalar matplotlib
pip install matplotlib --force-reinstall
```

---

## ğŸ“ Soporte y Contacto

- **Repositorio:** [github.com/juanmora97B/FincaFacil](https://github.com/juanmora97B/FincaFacil)
- **Issues:** [GitHub Issues](https://github.com/juanmora97B/FincaFacil/issues)
- **DocumentaciÃ³n:** `docs/Manual_Usuario_FincaFacil.pdf`

---

## ğŸ“ Changelog

### v2.0 (Noviembre 2025)
- âœ¨ Tour interactivo automÃ¡tico
- âœ¨ Manual de usuario en PDF integrado
- âœ¨ Dashboard mejorado con KPIs
- âœ¨ Sistema de backups completo
- ğŸ› CorrecciÃ³n de bugs menores
- ğŸ“š DocumentaciÃ³n consolidada

### v1.0 (Octubre 2025)
- ğŸ‰ Lanzamiento inicial
- âœ… Todos los mÃ³dulos funcionales

---

## ğŸ“œ Licencia

Este proyecto estÃ¡ bajo licencia privada. Todos los derechos reservados Â© 2025.

---

## ğŸ™ Agradecimientos

Desarrollado con â¤ï¸ para optimizar la gestiÃ³n ganadera moderna.

**FincaFÃ¡cil v2.0** - La fuerza del campo, la precisiÃ³n del software.

---

